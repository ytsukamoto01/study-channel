# すたでぃちゃんねる - Study Channel

受験・資格試験の匿名掲示板

## 🎯 プロジェクト概要

すたでぃちゃんねるは、受験生と資格取得を目指す学習者のためのコミュニティ掲示板です。匿名で質問や勉強法を共有できるプラットフォームを提供しています。

### ドメイン情報
- **取得済みドメイン**: studychannel.net
- **デプロイ予定**: Cloudflare Pages

## ✅ 現在の実装済み機能

### 1. マルチページアーキテクチャ
- **ホームページ** (`index.html`) - スレッド一覧とカテゴリフィルタリング
- **スレッド詳細ページ** (`thread.html`) - 個別スレッド表示とコメント機能
- **投稿一覧ページ** (`myposts.html`) - ユーザーの投稿履歴
- **お気に入りページ** (`favorites.html`) - お気に入り登録したスレッド一覧

### 2. コア機能
- **✅ スレッド作成・閲覧** - タイトル、内容、カテゴリ、ハッシュタグ
- **✅ コメント投稿** - スレッドへの返信機能
- **✅ 画像アップロード** - スレッドとコメントに最大5枚の画像添付
- **✅ お気に入り機能** - ワンクリックでお気に入り登録・削除
- **✅ カテゴリ別表示** - 7つの学習カテゴリでフィルタリング
- **✅ ハッシュタグ機能** - タグ表示と検索機能
- **✅ 匿名・記名投稿** - 匿名またはカスタム名での投稿選択

### 3. UI/UX改善
- **✅ ロゴなしのすっきりしたデザイン** 
- **✅ 一覧でのハッシュタグ表示**
- **✅ シンプルな統計表示（返信数、いいね数）**
- **✅ レスポンシブデザイン**
- **✅ Font Awesome アイコン使用**

### 4. データ管理
- **✅ RESTful Table API** による永続化データストレージ
- **✅ ローカルストレージ** による投稿履歴管理
- **✅ ブラウザフィンガープリント** による匿名ユーザー識別

## 🛠 技術スタック

### フロントエンド
- **HTML5** - セマンティックマークアップ
- **CSS3** - フレックスボックス、グリッド、レスポンシブデザイン
- **JavaScript (ES6+)** - モジュール化された設計
- **Font Awesome 6** - アイコンライブラリ
- **Google Fonts (Noto Sans JP)** - 日本語フォント

### データストレージ
- **RESTful Table API** - CRUD操作とデータ永続化
- **LocalStorage** - クライアントサイド設定保存

### ファイル構成
```
├── index.html              # ホームページ
├── thread.html            # スレッド詳細ページ  
├── myposts.html           # 投稿一覧ページ
├── favorites.html         # お気に入りページ
├── css/
│   ├── style.css          # 共通スタイル
│   ├── thread.css         # スレッド詳細スタイル
│   ├── myposts.css        # 投稿一覧スタイル
│   └── favorites.css      # お気に入りスタイル
├── js/
│   ├── utils.js           # ユーティリティ関数
│   ├── main.js            # ホームページ機能
│   ├── thread.js          # スレッド詳細機能
│   ├── myposts.js         # 投稿一覧機能
│   ├── favorites.js       # お気に入り機能
│   └── debug.js           # デバッグ・診断機能
└── README.md
```

## 📊 データベーススキーマ

### threads テーブル
- `id` (text): スレッドID
- `title` (text): スレッドタイトル
- `category` (text): カテゴリ
- `subcategory` (text): サブカテゴリ（任意）
- `content` (text): スレッド内容
- `hashtags` (array): ハッシュタグ配列
- `author_name` (text): 投稿者名
- `reply_count` (number): 返信数
- `like_count` (number): いいね数
- `images` (array): 画像URL配列

### comments テーブル
- `id` (text): コメントID
- `thread_id` (text): 対象スレッドID
- `content` (text): コメント内容
- `author_name` (text): 投稿者名
- `like_count` (number): いいね数
- `comment_number` (number): コメント番号
- `images` (array): 画像URL配列

### favorites テーブル
- `id` (text): お気に入りID
- `thread_id` (text): 対象スレッドID
- `user_fingerprint` (text): ユーザーフィンガープリント

### likes テーブル
- `id` (text): いいねID
- `target_id` (text): 対象ID（スレッドまたはコメント）
- `target_type` (text): 対象タイプ（'thread' または 'comment'）
- `user_fingerprint` (text): ユーザーフィンガープリント

## 🎨 学習カテゴリ

1. **大学受験** - 大学入試対策、共通テスト、私立・国公立受験
2. **高校受験** - 高校入試対策、内申点、推薦入試
3. **中学受験** - 中学入試対策、適性検査、私立中学
4. **資格試験** - 英検、TOEIC、簿記、情報処理技術者試験など
5. **公務員試験** - 国家・地方公務員、警察官、消防士など
6. **就職試験** - SPI、適性検査、面接対策
7. **その他** - 語学学習、スキルアップなど

## 🔧 最近の修正・改善

### JavaScript エラー修正 (2024年12月完了)
- **✅ setupSearchFeatures関数未定義エラー** - 検索機能の初期化関数を追加
- **✅ updateFavoriteStatus関数のundefinedデータエラー** - データ形式チェック機能を追加
- **✅ favorites API 500エラー** - API呼び出し方法を最適化
- **✅ thread.jsの構文エラー** - 余分な閉じ括弧とコードの修正
- **✅ formatAuthorName関数未定義** - 投稿者名表示関数を追加

### デバッグシステム
- **✅ 包括的なデバッグ機能** (`debug.js`) - API接続、DOM要素、関数の動作確認
- **✅ エラーログ拡張** - 詳細なコンソール出力とエラー追跡

## 🚀 現在の機能状態

### 完全動作中 ✅
- スレッド作成・表示
- コメント投稿・表示
- 画像アップロード・表示
- お気に入り機能
- カテゴリフィルタリング
- ハッシュタグ表示
- ページ間ナビゲーション
- レスポンシブデザイン

### テスト済み ✅
- メインページ (index.html) - スレッド一覧表示正常
- スレッド詳細ページ (thread.html) - 構文エラー修正済み
- お気に入りページ (favorites.html) - ページ読み込み正常
- 投稿一覧ページ (myposts.html) - ページ読み込み正常

## 🔮 今後の開発予定

### 高優先度
1. **検索機能強化** - 全文検索、高度な絞り込み
2. **通知機能** - 返信やいいねの通知
3. **モデレーション機能** - 不適切投稿の報告・管理

### 中優先度
1. **プロフィール機能** - ユーザー設定とカスタマイズ
2. **スレッド並び替え** - 人気順、最新コメント順
3. **画像最適化** - 外部ホスティングサービス連携

### 将来的な機能
1. **リアルタイム更新** - WebSocket連携
2. **PWA対応** - オフライン機能
3. **多言語対応** - 英語版サイト

## 🌐 デプロイメント

### 準備状況
- **ドメイン**: studychannel.net (取得済み)
- **ホスティング**: Cloudflare Pages (予定)
- **SSL証明書**: Cloudflareによる自動取得
- **CDN**: Cloudflareによる高速配信

### デプロイ手順
1. GitHubリポジトリにプッシュ
2. Cloudflare Pagesと連携
3. DNSレコードをCloudflareに設定
4. 自動デプロイとSSL有効化

## 📝 開発メモ

### コード品質
- ES6+準拠のモダンJavaScript
- 関数型プログラミング原則の適用
- エラーハンドリングの徹底
- APIレスポンスの詳細ログ

### パフォーマンス
- 画像遅延読み込み
- APIレスポンスキャッシュ
- 効率的なDOM操作

### セキュリティ
- XSS対策（HTMLエスケープ）
- フィンガープリント技術による重複防止
- 入力値バリデーション

---

**最終更新**: 2024年12月 | **ステータス**: 開発完了、デプロイ待機中